{"code":"(this.webpackJsonpminesweeper=this.webpackJsonpminesweeper||[]).push([[0],{14:function(t,e,n){},16:function(t,e,n){},18:function(t,e,n){\"use strict\";n.r(e);var s=n(1),a=n.n(s),i=n(4),r=n.n(i),c=(n(14),n(3)),o=n.n(c),u=n(5),h=n(6),l=n(7),m=n(9),f=n(8),p=(n(16),n(0)),d=function(t){Object(m.a)(n,t);var e=Object(f.a)(n);function n(t){var s;return Object(h.a)(this,n),(s=e.call(this,t)).state={size:t.size,mines:t.mines,numLeft:t.size*t.size-t.mines,status:\"playing\",map:[]},s.createNewMap(),s}return Object(l.a)(n,[{key:\"createNewMap\",value:function(){for(var t=this.state.map,e=0;e<this.state.size;e++){t[e]=[];for(var n=0;n<this.state.size;n++)t[e][n]={flag:!1,open:!1,mine:!1}}for(var s=0;s<this.state.mines;s++)t[Math.floor(Math.random()*this.state.size)][Math.floor(Math.random()*this.state.size)].mine=!0;this.setState({map:t})}},{key:\"leftClickHandler\",value:function(){var t=Object(u.a)(o.a.mark((function t(e,n){var s,a,i,r=this;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(\"playing\"===this.state.status){t.next=2;break}return t.abrupt(\"return\");case 2:if(!this.state.map[e][n].flag&&!this.state.map[e][n].open){t.next=4;break}return t.abrupt(\"return\");case 4:return(s=this.state.map)[e][n].open=!0,t.next=8,new Promise((function(t){r.setState({map:s,numLeft:r.state.numLeft-1},(function(){r.state.map[e][n].mine?r.setState({status:\"lose\"}):0===r.state.numLeft&&r.setState({status:\"win\"}),t()}))}));case 8:if(0===this.countNeighborBombs(e,n))for(a=e-1;a<=e+1;a++)for(i=n-1;i<=n+1;i++)a>=0&&i>=0&&a<this.state.size&&i<this.state.size&&this.leftClickHandler(a,i);case 9:case\"end\":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:\"rightClickHandler\",value:function(t,e,n){if(\"playing\"===this.state.status){t.preventDefault();var s=this.state.map;s[e][n].flag=!s[e][n].flag,this.setState({map:s})}}},{key:\"countNeighborBombs\",value:function(t,e){for(var n=0,s=t-1;s<=t+1;s++)for(var a=e-1;a<=e+1;a++)s>=0&&a>=0&&s<this.state.size&&a<this.state.size&&this.state.map[s][a].mine&&n++;return n}},{key:\"determineSpaceContent\",value:function(t,e){if(this.state.map[t][e].open){if(this.state.map[t][e].mine)return\"X\";var n=this.countNeighborBombs(t,e);return n>0?n.toString():\"\"}return this.state.map[t][e].flag?\"\\u2714\":\"\"}},{key:\"determineMessage\",value:function(){return\"win\"===this.state.status?\"You won!\":\"lose\"===this.state.status?\"You hit a bomb!\":\"\"}},{key:\"render\",value:function(){var t=this;return Object(p.jsxs)(\"div\",{children:[Object(p.jsxs)(\"table\",{className:\"gameboard\",children:[Object(p.jsx)(\"thead\",{}),Object(p.jsx)(\"tbody\",{children:Array.from(Array(this.state.size).keys()).map((function(e){return Object(p.jsx)(\"tr\",{children:Array.from(Array(t.state.size).keys()).map((function(n){return Object(p.jsx)(\"td\",{className:t.state.map[n][e].open?\"openCell\":\"closedCell\",onClick:function(s){return t.leftClickHandler(n,e)},onContextMenu:function(s){return t.rightClickHandler(s,n,e)},children:t.determineSpaceContent(n,e)},n)}))},e)}))})]}),Object(p.jsx)(\"center\",{children:Object(p.jsx)(\"h1\",{children:this.determineMessage()})})]})}}]),n}(a.a.Component);r.a.render(Object(p.jsxs)(a.a.StrictMode,{children:[Object(p.jsxs)(\"center\",{children:[Object(p.jsx)(\"h1\",{children:\"Tyler's Minesweeper (Made in React)\"}),Object(p.jsx)(\"p\",{children:\"To win, open every space that is not a mine.\"})]}),Object(p.jsx)(d,{size:16,mines:40}),Object(p.jsx)(\"center\",{children:Object(p.jsx)(\"button\",{className:\"retryButton\",onClick:function(){return window.location.reload()},children:\"Retry\"})})]}),document.getElementById(\"root\"))}},[[18,1,2]]]);","name":"static/js/main.2499bdca.chunk.js","input":"(this[\"webpackJsonpminesweeper\"] = this[\"webpackJsonpminesweeper\"] || []).push([[0],{\n\n/***/ 14:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 16:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 18:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(1);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(4);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./src/index.css\nvar src = __webpack_require__(14);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__(3);\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(5);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/classCallCheck.js\nvar classCallCheck = __webpack_require__(6);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/createClass.js\nvar createClass = __webpack_require__(7);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/inherits.js + 1 modules\nvar inherits = __webpack_require__(9);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/createSuper.js + 5 modules\nvar createSuper = __webpack_require__(8);\n\n// EXTERNAL MODULE: ./src/minesweeper/Minesweeper.css\nvar minesweeper_Minesweeper = __webpack_require__(16);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(0);\n\n// CONCATENATED MODULE: ./src/minesweeper/Minesweeper.js\nvar Minesweeper_Minesweeper=/*#__PURE__*/function(_React$Component){Object(inherits[\"a\" /* default */])(Minesweeper,_React$Component);var _super=Object(createSuper[\"a\" /* default */])(Minesweeper);/*\n    * Crete a new minesweeper component\n    */function Minesweeper(props){var _this;Object(classCallCheck[\"a\" /* default */])(this,Minesweeper);_this=_super.call(this,props);// Read in props\n_this.state={size:props.size,mines:props.mines,numLeft:props.size*props.size-props.mines,status:\"playing\",map:[]};// Create a new mine field\n_this.createNewMap();return _this;}/*\n    * Inititalize a minesweeper map with this.state.size (square) ad this.state.mines\n    */Object(createClass[\"a\" /* default */])(Minesweeper,[{key:\"createNewMap\",value:function createNewMap(){var _map=this.state.map;// Create the blank map\nfor(var x=0;x<this.state.size;x++){_map[x]=[];for(var y=0;y<this.state.size;y++){_map[x][y]={\"flag\":false,\"open\":false,\"mine\":false};}}// Randomize mine locations\nfor(var i=0;i<this.state.mines;i++){_map[Math.floor(Math.random()*this.state.size)][Math.floor(Math.random()*this.state.size)].mine=true;}// Store it\nthis.setState({map:_map});}/*\n    * Handles when a space gets left clicked\n    */},{key:\"leftClickHandler\",value:function(){var _leftClickHandler=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(x,y){var _this2=this;var _map,i,j;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(this.state.status!==\"playing\")){_context.next=2;break;}return _context.abrupt(\"return\");case 2:if(!(this.state.map[x][y].flag||this.state.map[x][y].open)){_context.next=4;break;}return _context.abrupt(\"return\");case 4:_map=this.state.map;_map[x][y].open=true;// Check if we won after updating the map.\n// Note that we need to do this syncronously in order to properly count down.\n_context.next=8;return new Promise(function(end){_this2.setState({map:_map,numLeft:_this2.state.numLeft-1},function(){if(_this2.state.map[x][y].mine){_this2.setState({status:\"lose\"});}else if(_this2.state.numLeft===0){_this2.setState({status:\"win\"});}end();});});case 8:// If we get a zero square, left click all around it for auto complete.\nif(this.countNeighborBombs(x,y)===0){for(i=x-1;i<=x+1;i++){for(j=y-1;j<=y+1;j++){if(i>=0&&j>=0&&i<this.state.size&&j<this.state.size){this.leftClickHandler(i,j);}}}}case 9:case\"end\":return _context.stop();}}},_callee,this);}));function leftClickHandler(_x,_x2){return _leftClickHandler.apply(this,arguments);}return leftClickHandler;}()/*\n    * Handles when a space gets right clicked\n    */},{key:\"rightClickHandler\",value:function rightClickHandler(e,x,y){if(this.state.status!==\"playing\")return;e.preventDefault();// Toggle the flag\nvar _map=this.state.map;_map[x][y].flag=!_map[x][y].flag;this.setState({map:_map});}/*\n    * Determines the bombs that surround this space\n    */},{key:\"countNeighborBombs\",value:function countNeighborBombs(x,y){var count=0;for(var i=x-1;i<=x+1;i++){for(var j=y-1;j<=y+1;j++){if(i>=0&&j>=0&&i<this.state.size&&j<this.state.size){if(this.state.map[i][j].mine){count++;}}}}return count;}/*\n    * Determines the text to put in this space\n    */},{key:\"determineSpaceContent\",value:function determineSpaceContent(x,y){if(this.state.map[x][y].open){if(this.state.map[x][y].mine){return\"X\";}else{var num=this.countNeighborBombs(x,y);return num>0?num.toString():\"\";}}else if(this.state.map[x][y].flag){return\"âœ”\";}else{return\"\";}}/*\n    * Win/lose message if needed\n    */},{key:\"determineMessage\",value:function determineMessage(){if(this.state.status===\"win\"){return\"You won!\";}else if(this.state.status===\"lose\"){return\"You hit a bomb!\";}else{return\"\";}}/*\n    * Render the component\n    */},{key:\"render\",value:function render(){var _this3=this;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"table\",{className:\"gameboard\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"thead\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"tbody\",{children:Array.from(Array(this.state.size).keys()).map(function(y){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"tr\",{children:Array.from(Array(_this3.state.size).keys()).map(function(x){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"td\",{className:_this3.state.map[x][y].open?\"openCell\":\"closedCell\",onClick:function onClick(e){return _this3.leftClickHandler(x,y);},onContextMenu:function onContextMenu(e){return _this3.rightClickHandler(e,x,y);},children:_this3.determineSpaceContent(x,y)},x);})},y);})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"center\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:this.determineMessage()})})]});}}]);return Minesweeper;}(react_default.a.Component);/* harmony default export */ var src_minesweeper_Minesweeper = (Minesweeper_Minesweeper);\n// CONCATENATED MODULE: ./src/index.js\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_default.a.StrictMode,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"center\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:\"Tyler's Minesweeper (Made in React)\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:\"To win, open every space that is not a mine.\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_minesweeper_Minesweeper,{size:16,mines:40}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"center\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"retryButton\",onClick:function onClick(){return window.location.reload();},children:\"Retry\"})})]}),document.getElementById('root'));\n\n/***/ })\n\n},[[18,1,2]]]);","inputSourceMap":null}